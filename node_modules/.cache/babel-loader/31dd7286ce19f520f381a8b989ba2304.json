{"ast":null,"code":"var _jsxFileName = \"/Users/pavankumarmanjalagiri/WorkSpace/proj_monash/login_module/Firebase_user_auth/src/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './forms.css';\nimport { auth } from './firebase';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { useHistory } from 'react-router-dom';\nimport { sendEmailVerification } from 'firebase/auth';\nimport { useAuthValue } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const {\n    setTimeActive\n  } = useAuthValue();\n\n  const validatePassword = () => {\n    let isValid = true;\n\n    if (password !== '' && confirmPassword !== '') {\n      if (password !== confirmPassword) {\n        isValid = false;\n        setError('Passwords does not match');\n      }\n    }\n\n    return isValid;\n  };\n\n  const register = e => {\n    e.preventDefault();\n    setError('');\n\n    if (validatePassword()) {\n      // Create a new user with email and password using firebase\n      createUserWithEmailAndPassword(auth, email, password).then(() => {\n        sendEmailVerification(auth.currentUser).then(() => {\n          setTimeActive(true);\n          history.push('/verify-email');\n        }).catch(err => alert(err.message));\n      }).catch(err => setError(err.message));\n    }\n\n    setEmail('');\n    setPassword('');\n    setConfirmPassword('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth__error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"screen__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: register,\n          name: \"registration_form\",\n          className: \"login\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            placeholder: \"Enter your email\",\n            required: true,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            required: true,\n            placeholder: \"Enter your password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: confirmPassword,\n            required: true,\n            placeholder: \"Confirm password\",\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"BjCV0DZpfuFjUqiPux360934svM=\", false, function () {\n  return [useHistory, useAuthValue];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","Link","auth","createUserWithEmailAndPassword","useHistory","sendEmailVerification","useAuthValue","Register","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","history","setTimeActive","validatePassword","isValid","register","e","preventDefault","then","currentUser","push","catch","err","alert","message","target","value"],"sources":["/Users/pavankumarmanjalagiri/WorkSpace/proj_monash/login_module/Firebase_user_auth/src/Register.js"],"sourcesContent":["import {useState} from 'react'\nimport { Link } from 'react-router-dom'\nimport './forms.css'\n\nimport { auth } from './firebase'\nimport { createUserWithEmailAndPassword } from 'firebase/auth'\n\n\nimport { useHistory } from 'react-router-dom'\nimport { sendEmailVerification } from 'firebase/auth'\n\nimport { useAuthValue } from './AuthContext'\n\n\nfunction Register() {\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [error, setError] = useState('')\n\n\n\n  const history = useHistory()\n\n  const { setTimeActive } = useAuthValue()\n\n\n  const validatePassword = () => {\n    let isValid = true\n    if (password !== '' && confirmPassword !== '') {\n      if (password !== confirmPassword) {\n        isValid = false\n        setError('Passwords does not match')\n      }\n    }\n    return isValid\n  }\n\n  const register = e => {\n    e.preventDefault()\n    setError('')\n    if (validatePassword()) {\n      // Create a new user with email and password using firebase\n      createUserWithEmailAndPassword(auth, email, password)\n        .then(() => {\n          sendEmailVerification(auth.currentUser)\n            .then(() => {\n              setTimeActive(true)\n              history.push('/verify-email')\n            }).catch((err) => alert(err.message))\n        })\n        .catch(err => setError(err.message))\n    }\n    setEmail('')\n    setPassword('')\n    setConfirmPassword('')\n  }\n\n\n\n\n\n  return (\n    <div className='center container'>\n      <div className='auth screen'>\n        <h1>Register</h1>\n        {error && <div className='auth__error'>{error}</div>}\n        <div class=\"screen__content\">\n\n        <form onSubmit={register}  name='registration_form' className='login'>\n          <input \n            type='email' \n            value={email}\n            placeholder=\"Enter your email\"\n            required\n            onChange={e => setEmail(e.target.value)}/>\n\n          <input \n            type='password'\n            value={password} \n            required\n            placeholder='Enter your password'\n            onChange={e => setPassword(e.target.value)}/>\n\n            <input \n            type='password'\n            value={confirmPassword} \n            required\n            placeholder='Confirm password'\n            onChange={e => setConfirmPassword(e.target.value)}/>\n\n          <button type='submit'>Register</button>\n        </form>\n        <span>\n          Already have an account?  \n          <Link to='/login'>login</Link>\n        </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module"}